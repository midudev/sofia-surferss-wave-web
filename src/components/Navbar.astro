---
const navItems = [
  { text: 'DÓNDE ES', href: '#donde-es' },
  { text: 'CÓMO IR', href: '#como-ir' },
  { text: 'QUÉ INCLUYE', href: '#que-incluye' },
  { text: 'ACTIVIDADES', href: '#actividades' },
]
---

<nav class="relative top-0 left-0 right-0 font-bebas pt-10">
  <div
    class="max-w-7xl mx-auto flex justify-around items-center px-6 lg:px-8 relative pt-12"
  >
    <!-- Enlaces del lado izquierdo. Añadir md:flex -->
    <div
      class="md:flex hidden lg:block' items-center space-x-6 lg:space-x-8 z-10"
    >
      {
        navItems.slice(0, 2).map(item => (
          <a
            href={item.href}
            class={`
              text-xl font-bebas transition-all duration-300 py-2 px-4 text-[#79c7ad] hover:bg-[#79c7ad] hover:text-white
              rounded-full 
            `}
          >
            {item.text}
          </a>
        ))
      }
    </div>

    <!-- Logo centrado -->
    <div
      class="absolute left-1/2 transform -translate-x-1/2 shrink-0 logo-container"
    >
      <a href="/" class="block">
        <img
          src="/logo-header-surferss-wave.svg"
          alt="Surferss Wave Surf Camp 2025"
          class="h-18 w-auto"
          width="330"
          height="100"
          loading="eager"
        />
      </a>
    </div>

    <!-- Enlaces del lado derecho. Añadir md:flex -->
    <div
      class="md:flex hidden lg:block items-center space-x-6 lg:space-x-8 z-10"
    >
      {
        navItems.slice(2).map(item => (
          <a
            href={item.href}
            class={`
              text-xl font-bebas transition-all duration-300 py-1 px-4 text-[#79c7ad] hover:bg-[#79c7ad] rounded-full hover:text-white
            `}
          >
            {item.text}
          </a>
        ))
      }
    </div>

    <!-- Botón del menú móvil (ahora a la derecha del todo) -->
    <button
      aria-label="Menú"
      class="md:hidden p-2 text-primary focus:outline-none z-20 absolute right-6"
      id="mobile-menu-button"
    >
      <svg
        class="w-6 h-6"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M4 6h16M4 12h16M4 18h16"></path>
      </svg>
    </button>
  </div>

  <!-- Menú móvil -->
  <div
    class="hidden md:hidden absolute top-full left-0 right-0 w-full bg-opacity-95 bg-white shadow-lg z-50 mt-10"
    id="mobile-menu"
  >
    <div class="px-4 pt-4 pb-5 space-y-3 max-w-md mx-auto">
      {
        navItems.map(item => (
          <a
            href={item.href}
            class={`
              block py-2 px-4 font-bebas tracking-wide text-lg text-center text-[#79c7ad] hover:text-white
            `}
          >
            {item.text}
          </a>
        ))
      }
    </div>
  </div>
</nav>

<script>
  // Script para el menú móvil
  document.addEventListener('DOMContentLoaded', () => {
    const menuButton = document.getElementById('mobile-menu-button')
    const mobileMenu = document.getElementById('mobile-menu')

    if (menuButton && mobileMenu) {
      menuButton.addEventListener('click', e => {
        e.stopPropagation()
        mobileMenu.classList.toggle('hidden')
      })

      document.addEventListener('click', e => {
        !mobileMenu.classList.contains('hidden') &&
          mobileMenu.classList.toggle('hidden')
      })
    }
  })
</script>

<style>
  /* Añadimos efecto de desplazamiento al navbar cuando se hace scroll */
  :global(.navbar-scrolled) {
    transform: translateY(0);
    transition: all 0.3s ease;
  }

  /* Logo scaling effect on scroll */
  :global(.navbar-scrolled .logo-container img) {
    transform: scale(0.9);
  }

  /* Logo transition */
  nav a img {
    transition: transform 0.3s ease;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>

<script>
  // Script para cambiar el estilo del navbar al hacer scroll
  document.addEventListener('DOMContentLoaded', () => {
    const navbar = document.querySelector('nav')
    const handleScroll = () => {
      if (window.scrollY > 50) {
        navbar?.classList.add('navbar-scrolled')
      } else {
        navbar?.classList.remove('navbar-scrolled')
      }
    }

    window.addEventListener('scroll', handleScroll)

    // Añadir atributos custom para la animación secuencial
    const navLinks = document.querySelectorAll('nav a')
    navLinks.forEach((link, index) => {
      if (link instanceof HTMLElement) {
        link.style.setProperty('--animation-order', index.toString())
      }
    })
  })
</script>
